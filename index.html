<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Firearms Atlas</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1 id="title">Databáza zbraní</h1>
    <div style="margin-top: 0.5rem;">
      <button onclick="setLang('sk')">🇸🇰</button>
      <button onclick="setLang('en')">🇬🇧</button>
      <button onclick="setLang('de')">🇩🇪</button>
      <button onclick="setLang('pl')">🇵🇱</button>
    </div>
  </header>

  <div class="filter-bar">
    <input type="text" id="searchInput" placeholder="🔎 Hľadať názov alebo kaliber" />
    <select id="countryFilter">
      <option value="all">Všetky krajiny</option>
    </select>
  </div>

  <main id="gunsContainer" class="cards-container"></main>

  <script src="guns.js"></script>

  <script>
    const translations = {
      sk: {
        title: "Databáza zbraní",
        searchPlaceholder: "🔎 Hľadať názov alebo kaliber",
        allCountries: "Všetky krajiny",
        manufacturer: "Výrobca",
        caliber: "Kaliber",
        category: "Kategória",
        country: "Krajina",
        viewMore: "Zobraziť viac",
        noResults: "Žiadne výsledky"
      },
      en: {
        title: "Firearms Database",
        searchPlaceholder: "🔎 Search name or caliber",
        allCountries: "All countries",
        manufacturer: "Manufacturer",
        caliber: "Caliber",
        category: "Category",
        country: "Country",
        viewMore: "View More",
        noResults: "No results"
      },
      de: {
        title: "Waffendatenbank",
        searchPlaceholder: "🔎 Name oder Kaliber suchen",
        allCountries: "Alle Länder",
        manufacturer: "Hersteller",
        caliber: "Kaliber",
        category: "Kategorie",
        country: "Land",
        viewMore: "Mehr anzeigen",
        noResults: "Keine Ergebnisse"
      },
      pl: {
        title: "Baza broni palnej",
        searchPlaceholder: "🔎 Szukaj nazwy lub kalibru",
        allCountries: "Wszystkie kraje",
        manufacturer: "Producent",
        caliber: "Kaliber",
        category: "Kategoria",
        country: "Kraj",
        viewMore: "Pokaż więcej",
        noResults: "Brak wyników"
      }
    };

    let currentLang = 'sk';

    function setLang(lang) {
      currentLang = lang;
      const t = translations[lang];
      document.getElementById('title').textContent = t.title;
      document.getElementById('searchInput').placeholder = t.searchPlaceholder;

      const countryFilter = document.getElementById('countryFilter');
      const selectedValue = countryFilter.value;
      countryFilter.innerHTML = `<option value="all">${t.allCountries}</option>`;
      populateCountryFilter(); // refill unique countries
      countryFilter.value = selectedValue;
      renderGuns(); // re-render with translated labels
    }
  </script>
</body>
</html>
